"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getCliConfig=exports.getInitQuestions=exports.isBaseType=exports.getType=exports.isNone=exports.isFoldExist=void 0;var _fs=_interopRequireDefault(require("fs")),_webpackMerge=_interopRequireDefault(require("webpack-merge")),_webpackChain=_interopRequireDefault(require("webpack-chain"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var __rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},isFoldExist=function(r){return new Promise(function(e,t){_fs.default.existsSync(r)?t(new Error(r+" has existed")):e()})};exports.isFoldExist=isFoldExist;var isNone=function(e){return null==e};exports.isNone=isNone;var getType=function(e){var t=Object.prototype.toString.call(e).match(/\s(\w*)]$/);return t?null==t?void 0:t[1]:"none"};exports.getType=getType;var isBaseType=function(e){return 0<=["number","string","boolean","undefined","null"].indexOf(getType(e))};exports.isBaseType=isBaseType;var getInitQuestions=function(){return[{type:"confirm",message:"Do you need initialize a git repository",name:"git",default:!1}]};exports.getInitQuestions=getInitQuestions;var getCliConfig=function(e,t){void 0===t&&(t={});var r,n,i,o,s,a,p,u,c={configureWebpack:{},chainWebpack:function(){},devServer:{},css:{loaderOption:{scss:{prependData:[]},less:{prependData:[]}}},analysis:!1};return r=require(e),n=require(process.cwd()+"/cli.config.js"),i=(0,_webpackMerge.default)(c,n),o=i.configureWebpack,s=i.chainWebpack,a=i.devServer,p=__rest(i,["configureWebpack","chainWebpack","devServer"]),u=new _webpackChain.default,s(u),(0,_webpackMerge.default)(r(Object.assign(p,t)),o,u.toConfig(),{devServer:a})};exports.getCliConfig=getCliConfig;