"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _ora=_interopRequireDefault(require("ora")),_webpack=_interopRequireDefault(require("webpack")),_chalk=_interopRequireDefault(require("chalk")),_util=require("../util");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _default=function(e){var u=(0,_ora.default)();u.start("app is building..."),process.env.NODE_ENV="production";var i=(0,_util.getCliConfig)("../frames/vue/webpack.prod",{analysis:e}),r=(0,_webpack.default)(i);r.hooks.done.tap("buildTip",function(){u.succeed("build successfully!")}),r.hooks.failed.tap("buildTip",function(e){u.fail("build failed"),console.log(e)}),r.run(function(e,u){var i=u.toJson();console.log([_chalk.default.green("Timeï¼š"+i.time+"ms"),_chalk.default.green("webpack version: "+i.version)].join("\n"))})};exports.default=_default;