"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _ora=_interopRequireDefault(require("ora")),_webpack=_interopRequireDefault(require("webpack")),_webpackDevServer=_interopRequireDefault(require("webpack-dev-server")),_webpackMerge=_interopRequireDefault(require("webpack-merge")),_webpackChain=_interopRequireDefault(require("webpack-chain"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var defaultCliConfig={configureWebpack:{},chainWebpack:function(){},devServer:{}};function getConfig(){var e=require("../src/frames/vue/webpack.dev"),r=require("".concat(process.cwd(),"/cli.config.js"))||defaultCliConfig,a=r.configureWebpack,t=r.chainWebpack,i=r.devServer,u=new _webpackChain.default;return t(u),e=(0,_webpackMerge.default)(e,a,u.toConfig(),{devServer:i})}var _default=function(r){var a=(0,_ora.default)();a.start("app is starting..."),process.env.NODE_ENV="development";var e=getConfig(),t=(0,_webpack.default)(e);t.hooks.done.tap("buildTip",function(e){a.succeed("compile successfully!\n      please open  http://localhost:".concat(r))}),t.hooks.failed.tap("buildTip",function(e){a.fail(e)}),r=e.devServer.port||r;var i=e.devServer.host||"localhost";new _webpackDevServer.default(t,e.devServer||{}).listen(r,i)};exports.default=_default;