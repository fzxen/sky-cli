"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _ora=_interopRequireDefault(require("ora")),_webpack=_interopRequireDefault(require("webpack")),_webpackMerge=_interopRequireDefault(require("webpack-merge")),_webpackChain=_interopRequireDefault(require("webpack-chain"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var defaultCliConfig={configureWebpack:{},chainWebpack:function(){},devServer:{}};function getConfig(){var e=require("../src/frames/vue/webpack.prod"),r=require("".concat(process.cwd(),"/cli.config.js"))||defaultCliConfig,a=r.configureWebpack,i=r.chainWebpack,u=r.devServer,t=new _webpackChain.default;return i(t),e=(0,_webpackMerge.default)(e,a,t.toConfig(),{devServer:u})}var _default=function(){var r=(0,_ora.default)();r.start("app is building..."),process.env.NODE_ENV="production";var e=getConfig(),a=(0,_webpack.default)(e);a.hooks.done.tap("buildTip",function(e){r.succeed("build successfully!")}),a.hooks.failed.tap("buildTip",function(e){r.fail(e)}),a.run()};exports.default=_default;